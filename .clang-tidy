---
# Note the tests subdir has a sub-config that disables some checks.

HeaderFilterRegex: (src|tests|examples)/.*
WarningsAsErrors: '*,-clang-diagnostic-unused-function'
Checks: >
  Enable all warnings by default. This ensures we don't miss new and useful
  warnings when a new version of clang-tidy is dropped.

  IMPORTANT
  clang-tidy doesn't support comments but we can simulate comments by just
  writing text directly here. These are then interpreted as warnings and will
  be dropped. As long as you start every sentence with a capital letter and
  don't use commas in your "comments" you should be fine,
  *,

  Warnings that are rarely useful,
  -altera-*, Checks related to OpenCL programming for FPGAs. Not relevant,
  -abseil-*, We're not using Abseil,
  -android-*,
  -fuchsia-*, Fuchsia specific,
  -zircon-*, Zircon specific,
  -linuxkernel*,
  -mpi-*,
  -objc-*, Objective-c not relevant,
  -llvmlibc-*, We want to use glibc,
  -misc-include-cleaner, Looks useful but redundant with IWYU. We may replace IWYU with this one day,
  -misc-misplaced-const,
  -misc-no-recursion,

  These don't match our general guidance,
  -modernize-use-trailing-return-type,
  -google-readability-braces-around-statements,
  -readability-identifier-length,
  This warns even for 'using namespace' in a .cpp file. We don't want that,
  -google-build-using-namespace,

  These warrant more discussion,
  -cppcoreguidelines-avoid-const-or-ref-data-members,
  -bugprone-easily-swappable-parameters,
  -readability-avoid-const-params-in-decls,
  -readability-function-cognitive-complexity,
  -cppcoreguidelines-non-private-member-variables-in-classes,
  -misc-non-private-member-variables-in-classes, This should be a duplicate of the above?,


  Cannot use due a bug in clang-tidy (https://github.com/llvm/llvm-project/issues/52682),
  -llvm-header-guard,

  Aliases. These are just duplicates of other warnings and should always be ignored,
  -bugprone-narrowing-conversions,
  -cert-dcl37-c,
  -cert-dcl51-cpp,
  -cert-exp42-c,
  -cert-flp37-c,
  -cert-msc24-c,
  -cert-msc33-c,
  -readability-magic-numbers,
  -google-readability-function-size,
  -hicpp-function-size,
  -llvm-else-after-return,
  -hicpp-braces-around-statements,
  -readability-braces-around-statements,

  These should be enabled, but have too many hits that need fixing in follow-up PRs,
  -modernize-use-nodiscard,
  -modernize-return-braced-init-list,
  -misc-const-correctness,
  -cppcoreguidelines-avoid-magic-numbers,
  -readability-container-size-empty,
  -modernize-pass-by-value,
  -google-explicit-constructor,
  -clang-diagnostic-unused-variable,
  -cppcoreguidelines-special-member-functions,
  -performance-avoid-endl,
  -modernize-use-auto,
  -hicpp-special-member-functions,
  -hicpp-explicit-conversions,
  -hicpp-use-auto,



  This warns for any TODO left in source and could be useful,
  -google-readability-todo,


# clang-tidy can auto-run clang-format for us. Tell it which style to use.
FormatStyle: file
